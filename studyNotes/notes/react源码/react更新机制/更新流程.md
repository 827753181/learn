# 更新流程
```
  ReactDOM.render —— HostRoot

  this.setState —— ClassComponent

  this.forceUpdate —— ClassComponent

  useState —— FunctionComponent

  useReducer —— FunctionComponent
  
触发状态更新（根据场景调用不同方法）
    |
    |
    v

创建Update对象

    |
    |
    v

从fiber到root（`markUpdateLaneFromFiberToRoot`）

    |
    |
    v

调度更新（`ensureRootIsScheduled`）

    |
    |
    v

render阶段（`performSyncWorkOnRoot` 或 `performConcurrentWorkOnRoot`）

    |
    |
    v

commit阶段（`commitRoot`）
```
![更新流程__2021-10-09-14-54-20](/studyNotes/attachments/更新流程__2021-10-09-14-54-20.png)